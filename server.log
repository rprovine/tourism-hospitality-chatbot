
> tourism-hospitality-chatbot@0.1.0 dev
> next dev

   ▲ Next.js 15.4.6
   - Local:        http://localhost:3000
   - Network:      http://192.168.4.97:3000
   - Environments: .env

 ✓ Starting...
 ✓ Ready in 1547ms
 ○ Compiling / ...
 ✓ Compiled / in 1667ms (1476 modules)
 GET / 200 in 2218ms
 GET / 200 in 109ms
 ✓ Compiled /favicon.ico in 198ms (832 modules)
 GET /favicon.ico 200 in 290ms
 GET / 200 in 290ms
 GET /favicon.ico 200 in 9ms
 ✓ Compiled /register in 442ms (1510 modules)
 GET / 200 in 237ms
 GET /register 200 in 700ms
 GET / 200 in 149ms
 ○ Compiling /api/chat ...
 ✓ Compiled /api/chat in 526ms (1612 modules)
 POST /api/chat 200 in 3647ms
 POST /api/chat 200 in 3812ms
 POST /api/chat 200 in 3350ms
 POST /api/chat 200 in 3210ms
 ✓ Compiled in 150ms (669 modules)
 GET / 200 in 202ms
 ✓ Compiled in 207ms (669 modules)
 GET / 200 in 34ms
 POST /api/chat 200 in 3606ms
 POST /api/chat 200 in 4207ms
 POST /api/chat 200 in 4525ms
 POST /api/chat 200 in 4905ms
 POST /api/chat 200 in 3381ms
 POST /api/chat 200 in 5212ms
 POST /api/chat 200 in 4608ms
 POST /api/chat 200 in 4913ms
 POST /api/chat 200 in 4018ms
 POST /api/chat 200 in 4327ms
 POST /api/chat 200 in 4475ms
 POST /api/chat 200 in 4339ms
 POST /api/chat 200 in 4424ms
 POST /api/chat 200 in 4721ms
 POST /api/chat 200 in 3362ms
 POST /api/chat 200 in 5235ms
 ✓ Compiled in 248ms (669 modules)
 GET / 200 in 75ms
 ✓ Compiled in 111ms (669 modules)
 GET / 200 in 21ms
 POST /api/chat 200 in 5015ms
 POST /api/chat 200 in 5386ms
 POST /api/chat 200 in 2833ms
 POST /api/chat 200 in 5458ms
 ✓ Compiled in 204ms (669 modules)
 ✓ Compiled in 430ms (669 modules)
 ✓ Compiled in 90ms (669 modules)
 ✓ Compiled in 207ms (1480 modules)
 ✓ Compiled in 113ms (669 modules)
 ✓ Compiled in 123ms (1480 modules)
 ✓ Compiled in 94ms (669 modules)
 ✓ Compiled in 136ms (1480 modules)
 ✓ Compiled in 113ms (669 modules)
 ✓ Compiled in 139ms (1480 modules)
 ✓ Compiled in 108ms (669 modules)
 ✓ Compiled in 134ms (1480 modules)
 ✓ Compiled in 89ms (669 modules)
 ✓ Compiled in 145ms (669 modules)
 ✓ Compiled in 81ms (669 modules)
 ✓ Compiled in 85ms (669 modules)
 ✓ Compiled in 79ms (669 modules)
 ✓ Compiled in 92ms (669 modules)
 ✓ Compiled in 97ms (669 modules)
 ✓ Compiled in 76ms (669 modules)
 ✓ Compiled in 163ms (1480 modules)
 ✓ Compiled in 96ms (669 modules)
 ✓ Compiled in 134ms (1480 modules)
 ✓ Compiled in 103ms (669 modules)
 ✓ Compiled in 134ms (669 modules)
 ✓ Compiled in 108ms (1480 modules)
 ✓ Compiled in 151ms (669 modules)
 ✓ Compiled in 155ms (1480 modules)
 ✓ Compiled in 92ms (669 modules)
 ✓ Compiled in 88ms (669 modules)
 ✓ Compiled in 100ms (669 modules)
 ✓ Compiled in 94ms (669 modules)
 ✓ Compiled in 81ms (669 modules)
 ✓ Compiled in 162ms (669 modules)
 ✓ Compiled in 134ms (669 modules)
 ✓ Compiled /api/chat in 404ms (958 modules)
Knowledge base search error: Error [PrismaClientValidationError]: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    businessId: "cme0rig9j0000s3vzacvjpmvu",
    isActive: true,
    language: "en",
    ~~~~~~~~
?   AND?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   OR?: KnowledgeBaseWhereInput[],
?   NOT?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   id?: StringFilter | String,
?   category?: StringFilter | String,
?   question?: StringFilter | String,
?   answer?: StringFilter | String,
?   keywords?: StringFilter | String,
?   createdAt?: DateTimeFilter | DateTime,
?   updatedAt?: DateTimeFilter | DateTime,
?   business?: BusinessScalarRelationFilter | BusinessWhereInput
  },
  orderBy: [
    {
      priority: "desc"
    },
    {
      usageCount: "desc"
    }
  ]
}

Unknown argument `language`. Available options are marked with ?.
    at async searchKnowledgeBase (lib/ai/knowledge-base-search.ts:20:18)
    at async POST (app/api/chat/route.ts:78:29)
  18 |   try {
  19 |     // Get all active knowledge base items for the business
> 20 |     const items = await prisma.knowledgeBase.findMany({
     |                  ^
  21 |       where: {
  22 |         businessId,
  23 |         isActive: true, {
  clientVersion: '6.13.0'
}
 POST /api/chat 200 in 5037ms
Knowledge base search error: Error [PrismaClientValidationError]: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    businessId: "cme0rig9j0000s3vzacvjpmvu",
    isActive: true,
    language: "en",
    ~~~~~~~~
?   AND?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   OR?: KnowledgeBaseWhereInput[],
?   NOT?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   id?: StringFilter | String,
?   category?: StringFilter | String,
?   question?: StringFilter | String,
?   answer?: StringFilter | String,
?   keywords?: StringFilter | String,
?   createdAt?: DateTimeFilter | DateTime,
?   updatedAt?: DateTimeFilter | DateTime,
?   business?: BusinessScalarRelationFilter | BusinessWhereInput
  },
  orderBy: [
    {
      priority: "desc"
    },
    {
      usageCount: "desc"
    }
  ]
}

Unknown argument `language`. Available options are marked with ?.
    at async searchKnowledgeBase (lib/ai/knowledge-base-search.ts:20:18)
    at async POST (app/api/chat/route.ts:78:29)
  18 |   try {
  19 |     // Get all active knowledge base items for the business
> 20 |     const items = await prisma.knowledgeBase.findMany({
     |                  ^
  21 |       where: {
  22 |         businessId,
  23 |         isActive: true, {
  clientVersion: '6.13.0'
}
 POST /api/chat 200 in 4728ms
 ✓ Compiled in 162ms (669 modules)
 ✓ Compiled in 124ms (1613 modules)
 ✓ Compiled in 545ms (1494 modules)
 ✓ Compiled in 183ms (1494 modules)
 ✓ Compiled in 182ms (1494 modules)
 ✓ Compiled in 157ms (1494 modules)
 ✓ Compiled in 150ms (1494 modules)
 ✓ Compiled in 171ms (1494 modules)
 ✓ Compiled in 217ms (1494 modules)
 GET / 200 in 365ms
 ✓ Compiled /favicon.ico in 279ms (842 modules)
 GET /favicon.ico 200 in 355ms
 ✓ Compiled in 205ms (669 modules)
 GET / 200 in 71ms
 ✓ Compiled /api/chat in 258ms (958 modules)
Knowledge base search error: Error [PrismaClientValidationError]: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    businessId: "cme0rig9j0000s3vzacvjpmvu",
    isActive: true,
    language: "en",
    ~~~~~~~~
?   AND?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   OR?: KnowledgeBaseWhereInput[],
?   NOT?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   id?: StringFilter | String,
?   category?: StringFilter | String,
?   question?: StringFilter | String,
?   answer?: StringFilter | String,
?   keywords?: StringFilter | String,
?   createdAt?: DateTimeFilter | DateTime,
?   updatedAt?: DateTimeFilter | DateTime,
?   business?: BusinessScalarRelationFilter | BusinessWhereInput
  },
  orderBy: [
    {
      priority: "desc"
    },
    {
      usageCount: "desc"
    }
  ]
}

Unknown argument `language`. Available options are marked with ?.
    at async searchKnowledgeBase (lib/ai/knowledge-base-search.ts:20:18)
    at async POST (app/api/chat/route.ts:78:29)
  18 |   try {
  19 |     // Get all active knowledge base items for the business
> 20 |     const items = await prisma.knowledgeBase.findMany({
     |                  ^
  21 |       where: {
  22 |         businessId,
  23 |         isActive: true, {
  clientVersion: '6.13.0'
}
 POST /api/chat 200 in 3140ms
Knowledge base search error: Error [PrismaClientValidationError]: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    businessId: "cme0rig9j0000s3vzacvjpmvu",
    isActive: true,
    language: "en",
    ~~~~~~~~
?   AND?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   OR?: KnowledgeBaseWhereInput[],
?   NOT?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   id?: StringFilter | String,
?   category?: StringFilter | String,
?   question?: StringFilter | String,
?   answer?: StringFilter | String,
?   keywords?: StringFilter | String,
?   createdAt?: DateTimeFilter | DateTime,
?   updatedAt?: DateTimeFilter | DateTime,
?   business?: BusinessScalarRelationFilter | BusinessWhereInput
  },
  orderBy: [
    {
      priority: "desc"
    },
    {
      usageCount: "desc"
    }
  ]
}

Unknown argument `language`. Available options are marked with ?.
    at async searchKnowledgeBase (lib/ai/knowledge-base-search.ts:20:18)
    at async POST (app/api/chat/route.ts:78:29)
  18 |   try {
  19 |     // Get all active knowledge base items for the business
> 20 |     const items = await prisma.knowledgeBase.findMany({
     |                  ^
  21 |       where: {
  22 |         businessId,
  23 |         isActive: true, {
  clientVersion: '6.13.0'
}
 POST /api/chat 200 in 2491ms
 ✓ Compiled in 375ms (1494 modules)
 GET / 200 in 134ms
 ✓ Compiled in 647ms (1494 modules)
 GET / 200 in 79ms
 ✓ Compiled /api/chat in 129ms (958 modules)
Knowledge base search error: Error [PrismaClientValidationError]: 
Invalid `prisma.knowledgeBase.findMany()` invocation:

{
  where: {
    businessId: "cme0rig9j0000s3vzacvjpmvu",
    isActive: true,
    language: "en",
    ~~~~~~~~
?   AND?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   OR?: KnowledgeBaseWhereInput[],
?   NOT?: KnowledgeBaseWhereInput | KnowledgeBaseWhereInput[],
?   id?: StringFilter | String,
?   category?: StringFilter | String,
?   question?: StringFilter | String,
?   answer?: StringFilter | String,
?   keywords?: StringFilter | String,
?   createdAt?: DateTimeFilter | DateTime,
?   updatedAt?: DateTimeFilter | DateTime,
?   business?: BusinessScalarRelationFilter | BusinessWhereInput
  },
  orderBy: [
    {
      priority: "desc"
    },
    {
      usageCount: "desc"
    }
  ]
}

Unknown argument `language`. Available options are marked with ?.
    at async searchKnowledgeBase (lib/ai/knowledge-base-search.ts:20:18)
    at async POST (app/api/chat/route.ts:78:29)
  18 |   try {
  19 |     // Get all active knowledge base items for the business
> 20 |     const items = await prisma.knowledgeBase.findMany({
     |                  ^
  21 |       where: {
  22 |         businessId,
  23 |         isActive: true, {
  clientVersion: '6.13.0'
}
 POST /api/chat 200 in 3960ms
 GET / 200 in 325ms
 ✓ Compiled /favicon.ico in 183ms (842 modules)
 GET /favicon.ico 200 in 229ms
 ✓ Compiled in 304ms (1511 modules)
 GET / 200 in 92ms
 ✓ Compiled in 236ms (669 modules)
 GET / 200 in 18ms
 ✓ Compiled in 92ms (669 modules)
 GET / 200 in 13ms
 ✓ Compiled in 82ms (669 modules)
 GET / 200 in 15ms
 ✓ Compiled in 83ms (669 modules)
 GET / 200 in 13ms
 ✓ Compiled in 85ms (669 modules)
 GET / 200 in 15ms
 ✓ Compiled in 89ms (669 modules)
 GET / 200 in 13ms
 ✓ Compiled in 102ms (669 modules)
 GET / 200 in 14ms
 GET / 200 in 285ms
 GET /favicon.ico 200 in 19ms
 ✓ Compiled in 448ms (1480 modules)
 GET / 200 in 121ms
 ✓ Compiled in 104ms (669 modules)
 GET / 200 in 21ms
 ✓ Compiled in 100ms (669 modules)
 GET / 200 in 15ms
 GET / 200 in 52ms
 ✓ Compiled in 185ms (1480 modules)
 GET / 200 in 83ms
 ✓ Compiled in 106ms (669 modules)
 GET / 200 in 15ms
 ✓ Compiled in 259ms (669 modules)
 GET / 200 in 36ms
 ✓ Compiled in 170ms (669 modules)
 GET / 200 in 16ms
 ✓ Compiled in 96ms (669 modules)
 GET / 200 in 15ms
 GET / 200 in 50ms
 ✓ Compiled in 126ms (1480 modules)
 GET / 200 in 67ms
 ✓ Compiled in 91ms (669 modules)
 GET / 200 in 20ms
 GET / 200 in 49ms
 ✓ Compiled in 128ms (1480 modules)
 GET / 200 in 63ms
 ✓ Compiled in 118ms (669 modules)
 GET / 200 in 14ms
 ✓ Compiled in 229ms (1480 modules)
 GET / 200 in 234ms
 GET / 200 in 10ms
 ✓ Compiled in 106ms (669 modules)
 GET / 200 in 15ms
 GET / 200 in 52ms
 ✓ Compiled in 120ms (1480 modules)
 GET / 200 in 58ms
 ✓ Compiled in 100ms (669 modules)
 GET / 200 in 20ms
 ✓ Compiled in 167ms (669 modules)
 GET / 200 in 17ms
 ✓ Compiled in 238ms (1480 modules)
 GET / 200 in 295ms
 GET / 200 in 13ms
 ✓ Compiled in 147ms (669 modules)
 GET / 200 in 17ms
 GET / 200 in 289ms
 ✓ Compiled /favicon.ico in 203ms (842 modules)
 GET /favicon.ico 200 in 292ms
 ✓ Compiled in 147ms (669 modules)
 GET / 200 in 72ms
 ✓ Compiled in 174ms (669 modules)
 GET / 200 in 17ms
 ✓ Compiled in 241ms (1480 modules)
 GET / 200 in 339ms
 GET / 200 in 10ms
 ✓ Compiled in 123ms (669 modules)
 GET / 200 in 20ms
 GET / 200 in 48ms
 ✓ Compiled in 122ms (1480 modules)
 GET / 200 in 60ms
 ✓ Compiled in 105ms (669 modules)
 GET / 200 in 23ms
 GET / 200 in 52ms
 ✓ Compiled in 129ms (1480 modules)
 GET / 200 in 64ms
 ✓ Compiled in 104ms (669 modules)
 GET / 200 in 20ms
 GET / 200 in 54ms
 ✓ Compiled in 141ms (1480 modules)
 GET / 200 in 89ms
 ✓ Compiled in 147ms (669 modules)
 GET / 200 in 14ms
